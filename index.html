<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>撮影本番 音声ガイド</title>
<style>
body{font-family:-apple-system,BlinkMacSystemFont,"Hiragino Sans","Segoe UI",sans-serif;margin:18px;line-height:1.6}
.panel{border:1px solid #d9d9d9;border-radius:14px;padding:16px;max-width:980px}
.jp{font-size:22px;font-weight:700}
.en{font-size:18px;margin-top:6px}
.controls button{margin:6px;padding:10px 14px}
</style>
</head>
<body>
<h1>撮影本番 音声ガイド</h1>

<div class="panel">
<select id="sel"></select>
<div class="jp" id="jp"></div>
<div class="en" id="en"></div>
<div class="controls">
<button onclick="play()">▶ 再生</button>
<button onclick="pause()">⏸ 一時停止</button>
<button onclick="replay()">↺ もう一度</button>
</div>
<audio id="audio" controls style="width:100%"></audio>
</div>

<script>
const STEPS = [{"num": "01", "title_jp": "これから造影剤を注入します。", "jp": "これから造影剤を注入します。", "en": "We’re going to inject the contrast dye soon."}, {"num": "02", "title_jp": "気分が悪くなったら教えてください。", "jp": "気分が悪くなったら、すぐに教えてください。", "en": "If you feel sick, please let us know right away."}, {"num": "03", "title_jp": "注入を開始します。", "jp": "これから注入を開始します。痛みはありませんか？気分はいかがですか？", "en": "Starting the injection now. Did you feel any pain? How are you feeling?"}, {"num": "04", "title_jp": "だんだん体が温かくなります。", "jp": "だんだん体が温かくなってきます。", "en": "You’ll start to feel warm gradually."}, {"num": "05", "title_jp": "息止めの合図後すぐ撮影します。", "jp": "息を止める合図が聞こえたら、すぐに撮影が始まります。", "en": "After you hear the instruction to hold your breath, the scan will start right away."}, {"num": "06", "title_jp": "約1分後にもう一度撮影します。", "jp": "約1分後に、もう一度撮影を行います。体調はいかがですか？", "en": "In about one minute, we’re going to take another scan. How are you feeling?"}, {"num": "07", "title_jp": "温かさは数分で消えます。", "jp": "体の温かさは、数分でおさまります。", "en": "The warm sensation will go away in a few minutes."}];
let idx=0;
const sel=document.getElementById('sel');
const jp=document.getElementById('jp');
const en=document.getElementById('en');
const audio=document.getElementById('audio');

STEPS.forEach((s,i)=>{
 const o=document.createElement('option');
 o.value=i;
 o.textContent=s.num+". "+s.title_jp;
 sel.appendChild(o);
});

function load(i){
 idx=i;
 jp.textContent=STEPS[i].jp;
 en.textContent=STEPS[i].en;
 audio.innerHTML='';
 let s1=document.createElement('source');
 s1.src='audio/'+STEPS[i].num+'.mp3'; s1.type='audio/mpeg';
 let s2=document.createElement('source');
 s2.src='audio/'+STEPS[i].num+'.m4a'; s2.type='audio/mp4';
 audio.appendChild(s1); audio.appendChild(s2);
 audio.load();
}

function play(){audio.play();}
function pause(){audio.pause();}
function replay(){audio.currentTime=0;audio.play();}

sel.onchange=e=>load(Number(e.target.value));
load(0);
</script>
</body>
</html>
